<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>V12 Studio</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="marcacoes.css" />
  <link rel="stylesheet" href="index.css" />
</head>
<body>
  <!-- NAV -->
  <header class="navbar">
    <div class="container nav-inner">
      <a class="logo" href="index.html">V12 Studio</a>
      <nav class="menu">
        <a href="index.html">Início</a>
        <a href="sobre.html">Sobre</a>
        <a href="galeria.html">Galeria</a>
        <a href="servicos.html">Serviços</a>
        <a class="active" href="marcacoes.html">Marcações</a>
      </nav>
      <a class="btn btn-agendar" href="marcacoes.html">Agendar Sessão</a>
    </div>
  </header>

  <!-- TÍTULO -->
  <section class="page-title">
    <div class="container">
      <h1>Marcações</h1>
      <span class="title-accent"></span>
      <p class="subtitle">Agende a sua sessão fotográfica ou entre em contacto para mais informações</p>
    </div>
  </section>

  <!-- GRID PRINCIPAL -->
  <main class="booking">
    <div class="container grid">
      <!-- FORMULÁRIO -->
      <form class="card form-card" action="#" method="post" target="_blank">
        <h2>Formulário de Contacto</h2>

        <label>Nome Completo *</label>
        <input type="text" name="nome" placeholder="O seu nome" required>

        <label>Email *</label>
        <input type="email" name="email" placeholder="seu@email.com" required>

        <label>Telefone</label>
        <input type="tel" name="telefone" placeholder="+351 912 345 678">

        <label>Data Preferida</label>
        <input type="date" name="data">

        <label>Mensagem Adicional</label>
        <textarea name="mensagem" rows="5" placeholder="Conte-me mais sobre o que procura..."></textarea>

        <button type="submit" class="btn btn-primary">
          <p>Enviar Pedido</p>
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M2 21l21-9L2 3v7l15 2-15 2z"/></svg>
        </button>
      </form>

      <!-- COLUNA LADO DIREITO -->
      <div class="right-col">
        <!-- CONTACTOS -->
        <section class="info card soft">
          <h3>Informações de Contacto</h3>

          <div class="info-item">
            <span class="icon">
            <svg width="25px" height="25px" viewBox="0 0 24 24" fill="#d8734b" xmlns="http://www.w3.org/2000/svg">
              <path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6zm3.519 0L12 11.671 18.481 6H5.52zM20 7.329l-7.341 6.424a1 1 0 0 1-1.318 0L4 7.329V18h16V7.329z" fill="#d8734b"/>
            </svg>            
            </span>
            <div>
              <strong>Email</strong>
              <p><a href="mailto:contacto@studio.pt">contacto@studio.pt</a></p>
            </div>
          </div>

          <div class="info-item">
            <span class="icon">
              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                width="25px" height="25px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
              <g>
                <path fill="#d8734b" d="M84.96,70.237c-0.167-1.032-0.814-1.914-1.783-2.438l-14.335-8.446l-0.118-0.066
                  c-0.579-0.297-1.249-0.45-1.937-0.45c-1.201,0-2.348,0.455-3.144,1.253l-4.231,4.233c-0.181,0.172-0.771,0.421-0.95,0.43
                  c-0.049-0.004-4.923-0.355-13.896-9.329c-8.957-8.955-9.337-13.844-9.34-13.844c0.005-0.25,0.251-0.838,0.426-1.02l3.608-3.607
                  c1.271-1.274,1.652-3.386,0.898-5.022L32.19,16.938c-0.579-1.192-1.704-1.928-2.952-1.928c-0.883,0-1.735,0.366-2.401,1.031
                  l-9.835,9.813c-0.943,0.938-1.755,2.578-1.932,3.898c-0.086,0.631-1.831,15.693,18.819,36.346
                  C51.42,83.627,65.09,84.989,68.865,84.989l0,0c0.812,0,1.285-0.058,1.376-0.071c1.316-0.176,2.954-0.986,3.891-1.925l9.827-9.826
                  C84.761,72.361,85.127,71.296,84.96,70.237z"/>
              </g>
              </svg>            
            </span>
            <div>
              <strong>Telefone</strong>
              <p><a href="tel:+351912345678">+351 912 345 678</a></p>
            </div>
          </div>

          <div class="info-item">
            <span class="icon">
              <svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 11C3 7.22876 3 5.34315 4.17157 4.17157C5.34315 3 7.22876 3 11 3H13C16.7712 3 18.6569 3 19.8284 4.17157C21 5.34315 21 7.22876 21 11V13C21 16.7712 21 18.6569 19.8284 19.8284C18.6569 21 16.7712 21 13 21H11C7.22876 21 5.34315 21 4.17157 19.8284C3 18.6569 3 16.7712 3 13V11Z" stroke="#d8734b" stroke-width="2"/>
              <circle cx="16.5" cy="7.5" r="1.5" fill="#d8734b"/>
              <circle cx="12" cy="12" r="3" stroke="#d8734b" stroke-width="2"/>
              </svg>            
            </span>
            <div>
              <strong>Instagram</strong>
              <p>@V12Studio</p>
            </div>
          </div>
        </section>

        <!-- HORÁRIO -->
        <section class="card schedule">
          <h3>Horário de Atendimento</h3>
          <ul class="hours">
            <li><span>Segunda - Sexta</span><b>9:00 - 19:00</b></li>
            <li><span>Sábado</span><b>10:00 - 16:00</b></li>
            <li><span>Domingo</span><b>Fechado</b></li>
          </ul>
        </section>

        <!-- NOTA -->
        <section class="note">
          <strong>Nota:</strong> Respondo geralmente no prazo de 24 horas. Para pedidos urgentes, por favor contacte diretamente por telefone.
        </section>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="foot-col">
        <h3 class="foot-logo">V12 Studio</h3>
        <p class="muted">Capturar momentos. Contar histórias.</p>
      </div>

      <div class="foot-col">
        <h4>Contacto</h4>
        <ul class="contact-list">
          <li>
            <a href="mailto:contacto@studio.pt" style="display: flex; align-items: center; gap: 8px; font-size: 16px;">
                <svg fill="#000000" style="height: 1em; width: auto;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="5" width="18" height="14" rx="1" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></rect>
                <path d="M21,6V8l-9,5L3,8V6A1,1,0,0,1,4,5H20A1,1,0,0,1,21,6Z" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                </svg>
                V12Studio@studio.pt
            </a>
            </li>
          <li>
            <a href="tel:+351912345678">            
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.01-.24 11.36 11.36 0 0 0 3.57.57 1 1 0 0 1 1 1V20a1 1 0 0 1-1 1A17 17 0 0 1 3 7a1 1 0 0 1 1-1h2.5a1 1 0 0 1 1 1c0 1.24.2 2.45.57 3.57a1 1 0 0 1-.24 1.01l-2.21 2.21Z"/></svg>
                +351 961 662 661</a>
          </li>
        </ul>
      </div>

      <div class="foot-col">
        <h4>Redes Sociais</h4>
        <a class="social" href="#" aria-label="Instagram">
          <svg fill="#ffffff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
            <path d="M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"/></svg>
        </a>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <p>© 2025 Studio Fotografia. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>
  <script>
  // URL da tua Apps Script Web App
  const scriptURL = 'https://script.google.com/macros/s/AKfycby-_QH5MbOjY620nHPyt51AYK_O50Ty_lnZaPfTaAXZNJBYMT1UmgASS6QUUusTu3MPdQ/exec';

  const form = document.querySelector('.form-card');
  const popup = document.getElementById('successPopup');
  const closePopup = document.getElementById('closePopup');

  if (form) {
    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const submitBtn = form.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Enviando...';

      const fd = new FormData(form);

      fetch(scriptURL, {
        method: 'POST',
        body: fd
      })
      .then(response => response.json())
      .then(data => {
        if (data && data.result === 'success') {
          // Mostra o popup de sucesso
          if (popup) popup.style.display = 'flex';
          form.reset();
        } else {
          console.error('Resposta inesperada:', data);
          alert('Ocorreu um erro ao enviar. Tenta novamente ou contacta por email.');
        }
      })
      .catch(err => {
        console.error('Erro ao enviar:', err);
        alert('Erro ao enviar. Verifica a consola e as configurações do Apps Script.');
      })
      .finally(() => {
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      });
    });
  }

  // Fecha o popup ao clicar no X ou fora dele
  if (closePopup) {
    closePopup.addEventListener('click', () => popup.style.display = 'none');
  }
  if (popup) {
    popup.addEventListener('click', e => {
      if (e.target === popup) popup.style.display = 'none';
    });
  }
</script>
<div id="successPopup" class="popup-overlay" style="display:none;">
  <div class="popup">
    <button class="popup-close" id="closePopup" aria-label="Fechar">&times;</button>
    <h2>Mensagem enviada com sucesso!</h2>
    <p>Obrigado por entrar em contacto — responderemos em menos de 24h.</p>
  </div>
</div>
</body>
</html>