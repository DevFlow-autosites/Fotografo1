<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Studio — Galeria</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="galeria.css" />
  <link rel="stylesheet" href="index.css" />
</head>
<body>
  <!-- NAV -->
  <header class="navbar">
    <div class="container nav-inner">
      <a class="logo" href="index.html">Studio</a>
      <nav class="menu">
        <a href="index.html">Início</a>
        <a href="sobre.html">Sobre</a>
        <a class="active" href="galeria.html">Galeria</a>
        <a href="servicos.html">Serviços</a>
        <a href="marcacoes.html">Marcações</a>
      </nav>
      <a class="btn btn-agendar" href="marcacoes.html">Agendar Sessão</a>
    </div>
  </header>

  <!-- TÍTULO -->
  <section class="page-title">
    <div class="container">
      <h1>Galeria</h1>
      <span class="title-accent"></span>
      <p class="subtitle">Explore a minha coleção de trabalhos e descubra histórias visuais únicas</p>
    </div>
  </section>

  <!-- FILTROS -->
  <section class="filters">
    <div class="container">
      <div class="chips">
        <button class="chip active">Todos</button>
        <button class="chip">Retratos</button>
        <button class="chip">Casamentos</button>
        <button class="chip">Eventos</button>
        <button class="chip">Produto</button>
      </div>
    </div>
  </section>

  <!-- GRID -->
 <main class="gallery">
  <div class="container">
    <div class="cards" id="cards"></div>
    <p id="loading">A carregar…</p>
    <p id="error" hidden>Não foi possível carregar a galeria.</p>
  </div>
</main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="foot-col">
        <h3 class="foot-logo">Studio</h3>
        <p class="muted">Capturar momentos. Contar histórias.</p>
      </div>

      <div class="foot-col">
        <h4>Contacto</h4>
        <ul class="contact-list">
          <li>
            <a href="mailto:contacto@studio.pt" style="display: flex; align-items: center; gap: 8px; font-size: 16px;">
                <svg fill="#000000" style="height: 1em; width: auto;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="5" width="18" height="14" rx="1" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></rect>
                <path d="M21,6V8l-9,5L3,8V6A1,1,0,0,1,4,5H20A1,1,0,0,1,21,6Z" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                </svg>
                contacto@studio.pt
            </a>
            </li>
          <li>
            <a href="tel:+351912345678">            
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.01-.24 11.36 11.36 0 0 0 3.57.57 1 1 0 0 1 1 1V20a1 1 0 0 1-1 1A17 17 0 0 1 3 7a1 1 0 0 1 1-1h2.5a1 1 0 0 1 1 1c0 1.24.2 2.45.57 3.57a1 1 0 0 1-.24 1.01l-2.21 2.21Z"/></svg>
                +351 912 345 678</a>
          </li>
        </ul>
      </div>

      <div class="foot-col">
        <h4>Redes Sociais</h4>
        <a class="social" href="#" aria-label="Instagram">
          <svg fill="#ffffff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
            <path d="M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"/></svg>
        </a>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <p>© 2025 Studio Fotografia. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>
  <script>
/* ========= CONFIG =========
   Altera para o teu repositório */
const GH_OWNER  = 'TEU_UTILIZADOR_OU_ORG';
const GH_REPO   = 'NOME_DO_REPO';
const GH_BRANCH = 'main';               // ou 'master'
const FOLDER    = 'assets/galeria';     // onde pões as fotos
/* ========================= */

const API_URL = `https://api.github.com/repos/${GH_OWNER}/${GH_REPO}/contents/${FOLDER}?ref=${GH_BRANCH}`;

const cardsEl = document.getElementById('cards');
const loadEl  = document.getElementById('loading');
const errEl   = document.getElementById('error');

const exts = ['.jpg','.jpeg','.png','.webp','.gif','.avif'];

function isImage(name){
  const n = name.toLowerCase();
  return exts.some(e => n.endsWith(e));
}

function render(items){
  const frag = document.createDocumentFragment();
  items.forEach(({download_url, name}) => {
    const art = document.createElement('article');
    art.className = 'card';

    const img = document.createElement('img');
    img.loading = 'lazy';
    img.decoding = 'async';
    img.src = download_url + `?cb=${encodeURIComponent(GH_BRANCH)}`;
    img.alt = name.replaceAll('_',' ').replaceAll('-',' ');

    // Abre imagem em novo separador ao clicar
    art.addEventListener('click', () => window.open(download_url, '_blank', 'noopener'));

    art.appendChild(img);
    frag.appendChild(art);
  });
  cardsEl.innerHTML = '';
  cardsEl.appendChild(frag);
}

async function loadGallery(){
  try{
    const res = await fetch(API_URL, { cache: 'no-store' });
    if(!res.ok) throw new Error('HTTP '+res.status);
    const data = await res.json();

    const files = (data || [])
      .filter(x => x.type === 'file' && x.download_url && isImage(x.name))
      // ordena por nome desc (se nomeares 2025-11-06_foto.jpg fica “mais recente primeiro”)
      .sort((a,b) => a.name < b.name ? 1 : -1);

    render(files);
    loadEl.remove();
  }catch(e){
    console.error(e);
    if(loadEl) loadEl.remove();
    errEl.hidden = false;
  }
}

loadGallery();
</script>
</body>

</html>
